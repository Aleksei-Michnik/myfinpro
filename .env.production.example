# ─────────────────────────────────────────────
# MyFinPro — Production Environment Configuration
# Copy to .env.production on the production server and fill in values
# ─────────────────────────────────────────────
#
# ⚠️  SECURITY NOTES:
#   - Never commit this file with real values to version control
#   - Use strong, unique passwords (min 32 characters for secrets)
#   - Restrict file permissions: chmod 600 .env.production
#   - Rotate secrets periodically
#   - Use a secrets manager in production when possible
#

# ── Node ──
NODE_ENV=production

# ── MySQL ──
# ⚠️  Use a strong, randomly generated password
MYSQL_ROOT_PASSWORD=CHANGE_ME_strong_root_password_64_chars
MYSQL_DATABASE=myfinpro
MYSQL_USER=myfinpro_prod
MYSQL_PASSWORD=CHANGE_ME_strong_db_password_64_chars

# ── Redis ──
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_strong_redis_password

# ── Service Ports (internal — not exposed in production) ──
API_PORT=3001
WEB_PORT=3000
NGINX_PORT=80

# ── GHCR Images ──
# GitHub Container Registry repository (lowercase), e.g., owner/myfinpro
GHCR_REPO=your-github-username/myfinpro
IMAGE_TAG=latest

# ── API Configuration ──
API_PREFIX=api
API_VERSION=v1
# ⚠️  DATABASE_URL must match MYSQL_USER/MYSQL_PASSWORD above
DATABASE_URL=mysql://myfinpro_prod:CHANGE_ME_strong_db_password_64_chars@mysql:3306/myfinpro

# ── JWT ──
# ⚠️  Generate with: openssl rand -base64 48
JWT_ACCESS_SECRET=CHANGE_ME_generate_with_openssl_rand_base64_48
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_SECRET=CHANGE_ME_generate_with_openssl_rand_base64_48
JWT_REFRESH_EXPIRATION=7d

# ── CORS ──
CORS_ORIGINS=https://myfinpro.example.com

# ── Rate Limiting ──
THROTTLE_TTL=60
THROTTLE_LIMIT=30

# ── Swagger ──
# ⚠️  Disable Swagger in production
SWAGGER_ENABLED=false

# ── Logging ──
LOG_LEVEL=warn

# ── Web Configuration ──
NEXT_PUBLIC_API_URL=https://myfinpro.example.com/api/v1
API_INTERNAL_URL=http://api:3001/api/v1
NEXT_PUBLIC_DEFAULT_LOCALE=en
NEXT_PUBLIC_SUPPORTED_LOCALES=en,he

# ── Telegram Bot ──
BOT_TOKEN=CHANGE_ME_telegram_bot_token
BOT_WEBHOOK_URL=https://myfinpro.example.com/bot/webhook
